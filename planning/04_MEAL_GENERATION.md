# MommyMenu 식단 생성 페이지 상세 기획서

## 1. 페이지 개요

### 1.1 핵심 목적
- **AI 맞춤 식단**: 개인 상태 반영 실시간 식단 생성
- **유연한 적응**: 입덧, 갈망, 혐오감 즉시 반영
- **영양 최적화**: 태아/모체 필요 영양소 자동 계산

### 1.2 사용자 플로우
```
현재 상태 입력 → AI 분석 → 식단 옵션 제시 → 
선택/커스터마이징 → 최종 확정 → 레시피/쇼핑리스트
```

## 2. 페이지 구조

### 2.1 전체 레이아웃 (Desktop)
```
┌─────────────────────────────────────────────────────────────┐
│                    Header Navigation                        │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────┐ ┌───────────────────────────────────┐  │
│  │   현재 상태     │ │         AI 식단 생성기            │  │
│  │   입력 패널     │ │                                   │  │
│  │                 │ │  ┌─────────────────────────────┐  │  │
│  │  [Step 1/6]     │ │  │       생성 진행 상황        │  │  │
│  │                 │ │  │   ████████░░░░░░  60%      │  │  │
│  │  임신 23주 3일  │ │  └─────────────────────────────┘  │  │
│  │                 │ │                                   │  │
│  │  오늘 컨디션:   │ │         식단 옵션 카드             │  │
│  │  😐 보통        │ │  ┌───────┬───────┬───────────┐  │  │
│  │                 │ │  │ 옵션A │ 옵션B │  맞춤생성  │  │  │
│  │  입덧 정도:     │ │  │한식중심│양식중심│           │  │  │
│  │  ●●○○○          │ │  │ 85점  │ 88점  │ [+] 새로 │  │  │
│  │                 │ │  └───────┴───────┴───────────┘  │  │
│  │  음식 제외:     │ │                                   │  │
│  │  [생선] [매운음식] │ │         선택된 식단 상세         │  │  │
│  │                 │ │                                   │  │
│  │  [다음 단계 >]  │ │         [상세 레시피 보기]        │  │  │
│  └─────────────────┘ │         [장보기 리스트]           │  │
│                      │         [영양 분석]              │  │
│                      └───────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────┘
```

### 2.2 Mobile 레이아웃 (375x812)
```
┌─────────────────┐
│ 현재 상태 입력   │
│ Step 1/6        │
├─────────────────┤
│ 😐 오늘 컨디션   │
│ [😭][😐][😊]     │
├─────────────────┤
│ 입덧 정도       │
│ ●●○○○          │
├─────────────────┤
│ 피하고 싶은 음식 │
│ [생선][매운음식] │
├─────────────────┤
│ [다음 단계 >]   │
├─────────────────┤
│ AI 생성 중...   │
│ ████████░░ 80%  │
├─────────────────┤
│ 추천 식단       │
│ ┌─────────────┐ │
│ │ 옵션 A      │ │
│ │ [음식이미지] │ │
│ │ 영양점수:85 │ │
│ └─────────────┘ │
├─────────────────┤
│ [선택] [다시생성]│
└─────────────────┘
```

## 3. 단계별 상세 기능

### 3.1 Step 1: 현재 상태 입력

#### 컨디션 선택
```
오늘 컨디션은 어떠신가요?
┌────────────────────────────────────┐
│  😭        😐        😊         │
│ 힘들어요    보통     좋아요      │
│ (입덧심함)  (평상시) (컨디션좋음) │
└────────────────────────────────────┘
```

#### 증상 체크 (다중 선택)
```
현재 느끼는 증상을 선택해주세요:
☐ 입덧/구토      ☐ 속쓰림        ☐ 변비
☐ 부종          ☐ 피로감        ☐ 불면증
☐ 요통          ☐ 두통          ☐ 어지러움
☐ 갈증          ☐ 식욕부진      ☐ 특별한 증상 없음
```

#### 갈망/혐오 음식
```
특별히 먹고 싶거나 피하고 싶은 음식이 있나요?

먹고 싶은 음식:
[                    ] 검색 또는 입력

피하고 싶은 음식:
[매운음식 ×] [생선 ×] [기름진음식 ×] [+ 추가]
```

### 3.2 Step 2: 식사 타입 선택

```
어떤 식사를 계획하시나요?
┌─────────────────────────────────────────────┐
│  🌅 아침식사    🌞 점심식사    🌙 저녁식사   │
│   (7-9시)      (12-14시)     (18-20시)     │
├─────────────────────────────────────────────┤
│  🥨 간식1      🍎 간식2      🥛 야식        │
│   (10시)       (15시)       (21시)         │
└─────────────────────────────────────────────┘

선택한 시간: 점심식사 (12:30)
```

### 3.3 Step 3: 선호도 설정

#### 요리 스타일
```
어떤 스타일의 음식을 원하시나요?
┌──────────┬──────────┬──────────┬──────────┐
│   한식   │   중식   │   일식   │   양식   │
│  미역국  │  탕수육  │   초밥   │  파스타  │
│ 불고기백반│  짜장면  │  라멘   │  스테이크 │
└──────────┴──────────┴──────────┴──────────┘

┌──────────┬──────────┬──────────┬──────────┐
│  분식   │  퓨전    │  디저트  │  음료    │
│  떡볶이  │  버거    │  케이크  │  스무디  │
│  김밥   │  샐러드   │  과일   │  차      │
└──────────┴──────────┴──────────┴──────────┘
```

#### 조리 복잡도
```
요리 준비 시간을 선택해주세요:
○ 간단 (5-15분)     예: 샐러드, 샌드위치
○ 보통 (15-30분)    예: 볶음밥, 국수
○ 정성 (30-60분)    예: 찌개, 구이
○ 상관없음          가장 영양가 있는 것
```

### 3.4 Step 4: AI 식단 생성

#### 생성 진행 표시
```
┌─────────────────────────────────────────┐
│  🤖 AI가 맞춤 식단을 생성하고 있어요    │
│                                         │
│  ████████████████░░░░  80%              │
│                                         │
│  ✅ 개인 건강 정보 분석 완료             │
│  ✅ 영양 요구량 계산 완료                │
│  ✅ 금기 음식 확인 완료                  │
│  🔄 최적 레시피 선별 중...               │
│  ⏳ 영양 밸런스 최적화 중...             │
│                                         │
│  예상 소요 시간: 약 15초                │
└─────────────────────────────────────────┘
```

#### 진행 단계 상세
1. **개인 정보 분석** (20%): 임신 주차, 건강 상태
2. **영양 요구량 계산** (40%): 필요 칼로리, 영양소
3. **제약 조건 적용** (60%): 알레르기, 혐오 음식
4. **레시피 매칭** (80%): 데이터베이스 검색
5. **최적화** (100%): 영양 밸런스, 조리 편의성

### 3.5 Step 5: 식단 옵션 선택

#### 3가지 옵션 제시
```
┌─────────────────────────────────────────────────────────────┐
│                  AI가 추천하는 식단                          │
├─────────────────┬─────────────────┬─────────────────────────┤
│     옵션 A      │     옵션 B      │        옵션 C           │
│   영양 균형형    │   간편 조리형    │       갈망 반영형        │
│                 │                 │                         │
│ [음식 이미지]    │ [음식 이미지]    │     [음식 이미지]       │
│                 │                 │                         │
│ 현미밥          │ 참치마요 덮밥    │ 떡볶이 + 계란           │
│ 된장찌개        │ 미니 샐러드      │ 김치전                  │
│ 연어구이        │ 요거트          │ 우유                    │
│ 나물반찬        │                 │                         │
│                 │                 │                         │
│ 🏆 영양점수: 94 │ 🏆 영양점수: 78 │  🏆 영양점수: 65       │
│ ⏱️ 조리: 35분   │ ⏱️ 조리: 15분   │  ⏱️ 조리: 20분         │
│ 💰 예상: 8,500원│ 💰 예상: 5,500원│  💰 예상: 6,000원      │
│                 │                 │                         │
│ [이 식단 선택]   │ [이 식단 선택]   │   [이 식단 선택]        │
│ [자세히 보기]    │ [자세히 보기]    │   [자세히 보기]         │
└─────────────────┴─────────────────┴─────────────────────────┘

[ 🔄 다시 생성하기 ]  [ ⚙️ 상세 조건 수정 ]
```

### 3.6 Step 6: 커스터마이징

#### 선택된 식단 수정
```
┌─────────────────────────────────────────────────────────────┐
│                     식단 커스터마이징                       │
├─────────────────────────────────────────────────────────────┤
│  메인: 현미밥 + 된장찌개 + 연어구이                         │
│                                                             │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────┐│
│  │   현미밥     │  │   된장찌개   │  │      연어구이       ││
│  │             │  │             │  │                     ││
│  │ [이미지]     │  │ [이미지]     │  │     [이미지]        ││
│  │             │  │             │  │                     ││
│  │ [변경] [제거]│  │ [변경] [제거]│  │   [변경] [제거]     ││
│  └─────────────┘  └─────────────┘  └─────────────────────┘│
├─────────────────────────────────────────────────────────────┤
│  반찬 추가:                                                 │
│  [나물반찬] [김치] [계란말이] [+ 더 찾기]                   │
├─────────────────────────────────────────────────────────────┤
│  총 영양 정보:                                              │
│  칼로리: 652kcal  단백질: 34g  엽산: 89%  철분: 76%        │
│                                                             │
│  [최종 확정]                                               │
└─────────────────────────────────────────────────────────────┘
```

## 4. AI 생성 알고리즘

### 4.1 입력 데이터
```javascript
{
  "personal": {
    "week": 23,
    "weight_gain": 5.2,
    "bmi_pre": 22.5,
    "genetics": {
      "mthfr": "variant",
      "fto": "normal"
    }
  },
  "current_state": {
    "nausea_level": 2,
    "mood": "normal",
    "symptoms": ["fatigue", "heartburn"],
    "cravings": ["spicy"],
    "aversions": ["fish", "greasy"]
  },
  "preferences": {
    "cuisine": ["korean", "fusion"],
    "prep_time": "moderate",
    "budget": "medium"
  }
}
```

### 4.2 영양 요구량 계산
```javascript
{
  "calories": 2200,  // 임신 중기 기준
  "protein": 71,     // g
  "folate": 600,     // μg
  "iron": 27,        // mg
  "calcium": 1000,   // mg
  "dha": 200,        // mg
  "vitamin_d": 600   // IU
}
```

### 4.3 제약 조건 적용
- **금기 음식**: 술, 날생선, 고카페인
- **개인 혐오**: 사용자 입력 기반
- **알레르기**: 프로필 등록 정보
- **종교/신념**: 채식주의 등

### 4.4 점수 계산 시스템
```javascript
score = {
  nutrition_balance: 40,    // 영양 균형
  safety: 25,              // 안전성
  preference_match: 20,     // 선호도 일치
  preparation_ease: 10,     // 조리 편의성
  cost_efficiency: 5       // 비용 효율성
}
```

## 5. 레시피 상세 정보

### 5.1 레시피 카드 구성
```
┌─────────────────────────────────────────────┐
│              연어구이 (2인분)                │
├─────────────────────────────────────────────┤
│  [요리 완성 이미지]                         │
├─────────────────────────────────────────────┤
│  ⏱️ 조리시간: 20분    👥 2인분              │
│  🔥 난이도: ⭐⭐⭐                          │
│  💰 예상비용: 12,000원                      │
├─────────────────────────────────────────────┤
│  📋 재료 (2인분)                            │
│  • 연어 필레: 200g                         │
│  • 올리브오일: 2큰술                       │
│  • 레몬: 1/2개                             │
│  • 소금, 후추: 약간                        │
│  • 아스파라거스: 10줄기                    │
├─────────────────────────────────────────────┤
│  👨‍🍳 조리법                                │
│  1. 연어에 소금, 후추 밑간 (5분)           │
│  2. 팬에 올리브오일 두르고 가열            │
│  3. 연어 껍질부터 3분간 굽기               │
│  4. 뒤집어서 2분 더 굽기                   │
│  5. 레몬즙 뿌리고 완성                     │
├─────────────────────────────────────────────┤
│  🥗 영양 정보                              │
│  칼로리: 285kcal  단백질: 25g             │
│  DHA: 120mg (60%)  비타민D: 70%           │
│  수은: 0.3μg (안전)                       │
├─────────────────────────────────────────────┤
│  🔔 임산부 주의사항                         │
│  • 완전히 익혀서 드세요                    │
│  • 냉장보관 1일 이내 섭취                 │
│  • 알레르기 주의: 생선                    │
├─────────────────────────────────────────────┤
│  [장바구니 담기] [즐겨찾기] [공유하기]      │
└─────────────────────────────────────────────┘
```

### 5.2 영양 분석 시각화
```
이 식단의 영양 분석
┌─────────────────────────────────────────────┐
│  일일 권장량 대비 섭취 비율                 │
│                                             │
│  엽산    ████████░░  89%  537μg/600μg      │
│  철분    ███████░░░  76%  20.5mg/27mg      │
│  칼슘    ████████░░  85%  850mg/1000mg     │
│  DHA     ████████░░  82%  164mg/200mg      │
│  단백질  ██████████  95%  67.5g/71g        │
│                                             │
│  🎯 종합 영양 점수: 87/100                  │
└─────────────────────────────────────────────┘
```

## 6. 장보기 리스트

### 6.1 자동 생성
```
🛒 오늘의 장보기 리스트 (총 23,500원)

채소/과일 (5,500원)
☐ 아스파라거스 1묶음        3,000원
☐ 레몬 2개                 2,500원

육류/생선 (15,000원) 
☐ 연어 필레 400g          15,000원

조미료/기타 (3,000원)
☐ 올리브오일 (집에 있는지 확인) 0원
☐ 현미 2kg                3,000원

💳 결제 옵션:
[온라인 주문] [매장 픽업] [직접 구매]
```

### 6.2 쇼핑 파트너 연동
- **쿠팡프레시**: 당일 배송
- **마켓컬리**: 새벽 배송
- **롯데온**: 오프라인 픽업
- **네이버 쇼핑**: 가격 비교

## 7. 저장 및 관리

### 7.1 식단 히스토리
```
최근 생성한 식단
┌─────────────────────────────────────────────┐
│ 📅 2024.03.15 점심                         │
│ 한식 균형 식단 (94점)                       │
│ [다시 만들기] [즐겨찾기] [공유]             │
├─────────────────────────────────────────────┤
│ 📅 2024.03.14 저녁                         │
│ 간편 양식 (78점)                           │
│ [다시 만들기] [즐겨찾기] [공유]             │
└─────────────────────────────────────────────┘
```

### 7.2 즐겨찾기 관리
- **별점**: 1-5점 평가
- **태그**: #간편 #영양만점 #아이좋아함
- **메모**: 개인 의견 기록

## 8. 소셜 기능

### 8.1 공유하기
```
┌─────────────────────────────────────────────┐
│  오늘의 식단을 공유해보세요!                │
├─────────────────────────────────────────────┤
│  [카카오톡] [페이스북] [인스타그램]         │
│  [링크복사] [커뮤니티 게시]                 │
├─────────────────────────────────────────────┤
│  📝 한줄 소개:                             │
│  "입덧 심할 때도 먹을 수 있는 든든한 식단"  │
│                                             │
│  #임신식단 #영양관리 #23주차               │
└─────────────────────────────────────────────┘
```

## 9. 피드백 시스템

### 9.1 식사 후 평가
```
이 식단은 어떠셨나요?
⭐⭐⭐⭐⭐ (5점)

맛은 어떠셨나요?
😋 맛있었어요  😐 보통이에요  😤 별로였어요

몸 상태는?
✅ 소화 잘됨    ☐ 속쓰림     ☐ 더부룩함
☐ 메스꺼움     ☐ 알레르기    ☐ 기타

다시 먹고 싶으신가요?
☐ 자주 먹고 싶어요  ☐ 가끔 먹고 싶어요  ☐ 다시는 안 먹고 싶어요

[피드백 제출]
```

## 10. 성능 최적화

### 10.1 로딩 최적화
- **스켈레톤 UI**: 생성 중 표시
- **이미지 지연 로딩**: 스크롤 시 로드
- **캐싱**: 자주 생성되는 조합

### 10.2 오프라인 지원
- **기본 레시피**: 오프라인 저장
- **즐겨찾기**: 로컬 스토리지
- **동기화**: 온라인 복귀 시

## 11. 접근성 및 국제화

### 11.1 시각 접근성
- **큰 글씨**: 레시피 텍스트
- **고대비**: 중요 정보 강조
- **음성 읽기**: 레시피 단계별

### 11.2 다국어 지원
- **레시피 번역**: 영어, 중국어
- **측정 단위**: 컵/스푼 ↔ g/ml
- **문화 적응**: 현지 식재료 대체